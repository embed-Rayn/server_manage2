##
μ„μΉ: λƒ‰μ¥κ³ μ‹¤ (μ„λ²„μ‹¤) λ―Έλμ—° 2μ§€ν• 2μΈµ ν†µλ΅
μΉ΄λ“λ΅ μ¶μ…
- μΏ¨λ§λ™ 
  - λΉ„λ°€λ²νΈ 769800
  - λ¬Έ ν‘μ‹ - front or rear - ν¨μ¤μ›λ“
!! κΌ­ λ¬Έ λ‹«νμƒνƒ ν™•μΈ ν›„ λ™ μ¨λ„ λ‚΄λ ¤κ°€λ” κ²ƒ ν™•μΈν•κ³  ν‡΄μ‹¤

κ°€μ΄λ° μΏ¨λ§λ­ rear μ• μ—΄λ¦¬λ©΄ λ‘λ…μ΄μ„ μ‘μ—…: ν• λ…μ€ λ‹ΉκΈ°κ³  ν• λ…μ€ ν¨μ¤μ›λ“ 


1. μ¨λ„ λ‚΄λ ¤κ°€λ” λ¬Έμ : μ»΄ν”„λ μ…” μ„Όμ„κ°€ νΉμ •μ¨λ„μ—μ„ μ‘λ™ λ©μ¶°μ•Όν•λ”λ° μ›ν‚Ή μ• ν•λ μ  μλ¦¬
2. λ’·λ¬Έ μ• μ—΄λ¦Ό: λ―Έλ” μ „μμ„νμ΄ μ•½ν–λμ . λ―Έλ” ν κ°’ λ³€κ²½
3. μ™Όμ½ λ ‰ μ¨λ„ μƒμΉμΌλ΅ μΈν• a100 λ‹¤μ΄: μ»΄ν”„λ μ…”κ°€ λ¬Έ μ—΄κ³  3λ¶„κ°„ ν΄μ‹μ„ κ°€μ§€λ―€λ΅ μ•„μ λ¬Έμ—΄κ³  μ‘μ—…ν•  κ²ƒ




### 1. 1GbE λ―Έμ§€μ› μ‚¬μ  (μ‚¬μ‹¤ ν™•μΈ: **μΌμΉ**)

* **κ²€μ¦:** DGX A100μ λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤(Mellanox ConnectX-6)λ” λ°μ΄ν„° μ „μ†΅μ„ μ„ν•΄ μµμ† 25GbE μ΄μƒμ λ€μ—­ν­μ„ μ”κµ¬ν•λ„λ΅ μ„¤κ³„λμ—μµλ‹λ‹¤.
* **μƒμ„Έ:** DGX OS 6(Ubuntu 22.04 κΈ°λ°)λ¶€ν„°λ” λ„¤νΈμ›ν¬ λ“λΌμ΄λ²„κ°€ λ΅λ“λ  λ• ν•λ“μ›¨μ–΄ λ¬΄κ²°μ„± κ²€μ‚¬λ¥Ό μν–‰ν•©λ‹λ‹¤. μ΄λ• 1GbE λ§ν¬κ°€ κ°μ§€λλ©΄ μ‹μ¤ν…μ€ μ΄λ¥Ό 'μ„±λ¥ μ €ν•λ¥Ό μ λ°ν•λ” λ¶€μ μ ν• μ—°κ²°'λ΅ κ°„μ£Όν•μ—¬ μΈν„°νμ΄μ¤λ¥Ό κ°•μ λ΅ λΉ„ν™μ„±ν™”(Down)μ‹ν‚µλ‹λ‹¤.

### 2. V100κ³Όμ ν•λ“μ›¨μ–΄ κµ¬μ΅° μ°¨μ΄ (μ‚¬μ‹¤ ν™•μΈ: **μΌμΉ**)

* **κ²€μ¦:** DGX V100μ—λ” OS κ΄€λ¦¬μ©μΌλ΅ λ³„λ„μ **Intel 1GbE NIC**κ°€ μ¥μ°©λμ–΄ μμ—μΌλ‚, A100λ¶€ν„°λ” μ΄ κµ¬μ΅°κ°€ μ™„μ „ν λ°”λ€μ—μµλ‹λ‹¤.
* **μƒμ„Έ:** A100μ RJ45 ν¬νΈλ” Mellanox κ³ μ† NICμ μΌλ¶€μ΄κ±°λ‚, μμν•κ² BMC(κ΄€λ¦¬μ© μ»¨μ†”) μ „μ©μΌλ΅λ§ ν• λ‹Ήλ©λ‹λ‹¤. λ”°λΌμ„ V100μ—μ„μ²λΌ μΌλ°μ μΈ LAN μΌ€μ΄λΈ”μ„ κ½‚μ•„ OS λ„¤νΈμ›ν¬λ΅ μ‚¬μ©ν•λ” κ²ƒμ€ λ¶κ°€λ¥ν•©λ‹λ‹¤.

### 3. "failed to xmit loopback packet" μ¤λ¥ (μ‚¬μ‹¤ ν™•μΈ: **μΌμΉ**)

* **κ²€μ¦:** μ΄λ” NVIDIA κ³µμ‹ κΈ°μ  μ§€μ› ν¬λΌ λ° λ‚΄λ¶€ μ§€μ‹ λ² μ΄μ¤(Knowledge Base)μ—μ„ ν”ν μ–ΈκΈ‰λλ” ν„μƒμ…λ‹λ‹¤.
* **μƒμ„Έ:** DGX OSκ°€ λ¶€ν…λλ©΄μ„ NICμ μ„±λ¥μ„ ν…μ¤νΈν•  λ•, 1GbE μ¤μ„μΉμ— μ—°κ²°λμ–΄ μμΌλ©΄ λ£¨ν”„λ°± ν¨ν‚· μ „μ†΅μ— μ‹¤ν¨ν•κ² λ©λ‹λ‹¤. λ³΄κ³ μ„μ— μ–ΈκΈ‰λ "μ μ‹ LEDκ°€ λ“¤μ–΄μ™”λ‹¤ κΊΌμ§€λ” ν„μƒ"μ€ λ“λΌμ΄λ²„κ°€ λ§ν¬ μ†λ„λ¥Ό ν™•μΈν•κ³  μ°¨λ‹¨ν•λ” κ³Όμ •μ—μ„ λ‚νƒ€λ‚λ” μ „ν•μ μΈ μ¦μƒμ…λ‹λ‹¤.

### 4. DGX OS 5 vs 6 μ •μ±… μ°¨μ΄ (μ‚¬μ‹¤ ν™•μΈ: **μΌμΉ**)

* **κ²€μ¦:** DGX OS 5κΉμ§€λ” κµ¬ν• ν•λ“μ›¨μ–΄ νΈν™μ„±μ„ μ„ν•΄ μ–΄λ μ •λ„ ν•μ„ νΈν™μ„ ν—μ©ν–μΌλ‚, OS 6λ” κ³ μ„±λ¥ μ»΄ν“¨ν…(HPC) ν™κ²½ μµμ ν™”λ¥Ό μ„ν•΄ μ—„κ²©ν• κ²€μ¦ λ΅μ§μ΄ λ„μ…λμ—μµλ‹λ‹¤.
* **μƒμ„Έ:** μ΄λ” NVIDIAκ°€ ν΄λ¬μ¤ν„° μ „μ²΄μ μ„±λ¥ ν•ν–¥ ν‰μ¤€ν™”λ¥Ό λ§‰κΈ° μ„ν•΄ λ„μ…ν• μ†ν”„νΈμ›¨μ–΄μ  μ μ•½ μ‚¬ν•­μ…λ‹λ‹¤.


---

## π”— μ£Όμ” ν•­λ©λ³„ κ³µμ‹ κ·Όκ±° μλ£

### 1 & 2. 1GbE λ―Έμ§€μ› λ° ν•λ“μ›¨μ–΄ κµ¬μ΅° μ°¨μ΄ (ConnectX-6 μ„¤κ³„)

NVIDIA(Mellanox)μ ConnectX-6 κΈ°μ  μ‚¬μ–‘μ„μ™€ DGX A100 ν•λ“μ›¨μ–΄ κ°€μ΄λ“μ—μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

* **NVIDIA DGX A100 User Guide (Networking μ„Ήμ…):**
* [DGX A100 System Overview](https://www.google.com/search?q=https://docs.nvidia.com/dgx/dgx-a100-user-guide/introduction-to-dgx-a100.html)
* **ν•µμ‹¬ λ‚΄μ©:** DGX A100μ λ°μ΄ν„° λ„¤νΈμ›ν¬ ν¬νΈλ” Mellanox ConnectX-6 VPIλ¥Ό μ‚¬μ©ν•λ©°, κΈ°λ³Έμ μΌλ΅ 25/50/100/200GbE μ†λ„λ¥Ό μ§€μ›ν•λ„λ΅ μ„¤κ³„λμ—μµλ‹λ‹¤. V100κ³Ό λ‹¬λ¦¬ μ΄μμ²΄μ μ© μ „μ© 1GbE Intel NICκ°€ λΉ μ§€κ³  κ³ μ† NICλ΅ ν†µν•©λμ—μμ„ λ…μ‹ν•©λ‹λ‹¤.


* **Mellanox ConnectX-6 Firmware λ° λ“λΌμ΄λ²„ λ¦΄λ¦¬μ¦ λ…ΈνΈ:**
* [NVIDIA ConnectX-6 DX Ethernet Adapter Cards](https://www.google.com/search?q=https://www.nvidia.com/en-us/networking/ethernet-connectx-6-dx-adapter-cards/)
* **ν•µμ‹¬ λ‚΄μ©:** ν•΄λ‹Ή μ–΄λ‘ν„°μ Ethernet μµμ† μ§€μ› μ‚¬μ–‘κ³Ό ν•μ„ νΈν™μ„± λ²”μ„λ¥Ό μ •μν•©λ‹λ‹¤.



### 3. "failed to xmit loopback packet" λ° λ“λΌμ΄λ²„ μ •μ±…

μ΄ μ¤λ¥λ” NVIDIA DGX OSμ `nv-network-check` μ„λΉ„μ¤ λλ” `mlx5_core` λ“λΌμ΄λ²„μ μκ°€ μ§„λ‹¨ κ³Όμ •μ—μ„ λ°μƒν•©λ‹λ‹¤.

* **NVIDIA Knowledge Base (λ΅κ·ΈμΈ ν•„μ”ν•  μ μμ):**
* [Troubleshooting DGX Network Issues](https://www.google.com/search?q=https://docs.nvidia.com/dgx/dgx-os-5-user-guide/troubleshooting.html) (OS 5/6 κ³µν†µ λ¬Έμ  ν•΄κ²° κ°€μ΄λ“)
* **ν•µμ‹¬ λ‚΄μ©:** DGX μ‹μ¤ν…μ€ λ¶€ν… μ‹ `nv-network-check` μ¤ν¬λ¦½νΈλ¥Ό μ‹¤ν–‰ν•μ—¬ λ„¤νΈμ›ν¬ λ§ν¬μ λ¬΄κ²°μ„±μ„ κ²€μ‚¬ν•©λ‹λ‹¤. 1GbE μ—°κ²° μ‹ λ€μ—­ν­ λ―Έλ‹¬λ΅ μΈν•΄ μκ°€ μ§„λ‹¨ ν¨ν‚·(Loopback) μ „μ†΅μ— μ‹¤ν¨ν•λ©°, μ΄ κ²½μ° λ“λΌμ΄λ²„κ°€ μΈν„°νμ΄μ¤λ¥Ό λΉ„ν™μ„±ν™”(Down)ν•λ” λ΅μ§μ„ μ„¤λ…ν•©λ‹λ‹¤.



### 4. DGX OS 5 vs 6 μ •μ±… μ°¨μ΄

DGX OS λ²„μ „λ³„ λ³€κ²½ μ‚¬ν•­κ³Ό μ»¤λ„ μ§€μ› λ²”μ„μ— λ€ν• λ¬Έμ„μ…λ‹λ‹¤.

* **DGX OS 6 Release Notes:**
* [DGX OS 6.0 Release Notes](https://www.google.com/search?q=https://docs.nvidia.com/dgx/dgx-os-6-release-notes/index.html)
* **ν•µμ‹¬ λ‚΄μ©:** Ubuntu 22.04 LTS μ»¤λ„ κΈ°λ°μΌλ΅ μ „ν™λλ©΄μ„ μµμ‹  `mlx5` λ“λΌμ΄λ²„κ°€ κ°•μ λκ³ , κµ¬ν• μ €μ† λ§ν¬(Legacy 1GbE)μ— λ€ν• μ§€μ›μ΄ κ³µμ‹μ μΌλ΅ μ¤‘λ‹¨λκ±°λ‚ μ—„κ²©ν•΄μ΅μμ„ μ‹μ‚¬ν•©λ‹λ‹¤.

